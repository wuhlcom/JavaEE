package com.zhilu.device.domain;

import java.util.List;

import org.springframework.data.domain.Page;
import org.springframework.data.domain.Pageable;
import org.springframework.data.jpa.repository.JpaRepository;
import org.springframework.data.jpa.repository.Modifying;
import org.springframework.data.jpa.repository.Query;
import org.springframework.data.repository.query.Param;

public interface TblIotDeviceRepository extends JpaRepository<TblIotDevice, String>{
	/**
     * spring data jpa 会自动注入实现（根据方法命名规范）
     * @return
     */
	TblIotDevice findTblIotDeviceById(String id);
	List<TblIotDevice> findTblIotDeviceByName(String name);
	
	@Query(value = "select * from TblIotDevice limit ?1", nativeQuery =true)
	List<TblIotDevice> findAllTblIotDevicesByCount(int count);
	
	//分页功能
	Page<TblIotDevice> findALL(Pageable pageable);    
	Page<TblIotDevice> findByName(String name,Pageable pageable);
	
//	// ------------------------------------ 使用 @Query 注解
//	// 没有参数的查询
//	@Query("select p from Person p where p.id = (select max(p2.id) from Person p2)")
//	TblIotDevice getMaxIdPerson();

	/**
	 * 参数名称和参数顺序耦合
	 * @param lastName
	 * @param email
	 * @return
//	 */
//	@Query("select p from Person p where lastName=?1 and email=?2")
//	TblIotDevice readPersonByLastNameAndEmail(String lastName,String email);
//
//	@Query("select p from Person p where email=:email and  lastName=:name")
//	TblIotDevice readPersonByLastNameAndEmailThroughName(@Param("name") String lastName,@Param("email") String email);
//
//	// 使用 like
//	@Query("select p from Person p where lastName like ?1")
//	TblIotDevice readPersonByLike(String likeName);
//
//	// @Query 注解支持使用百分号
//	@Query("select p from Person p where lastName like %?1%")
//	TblIotDevice readPersonByLike2(String likeName);
//
//	// @Query 注解支持使用百分号
//	@Query("select p from Person p where lastName like %:lastName%")
//	TblIotDevice readPersonByLike3(@Param("lastName")String name);
//
//	// 使用原生的 SQL
//	@Query(value="select * from jpa_person p1 where p1.last_name like %:lastName%",nativeQuery=true)
//	TblIotDevice getPersonUsingOriginSQL(@Param("lastName")String lastName);
}
